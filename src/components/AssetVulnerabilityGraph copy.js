import React from 'react';
import { Graph } from 'react-d3-graph';

/**
 * AssetVulnerabilityGraph component displays a graph of assets and their vulnerabilities.
 * 
 * @param {Object} props - Component properties
 * @param {Object} props.data - Graph data
 * @returns {JSX.Element} AssetVulnerabilityGraph component
 */
const AssetVulnerabilityGraph = ({ data }) => {
  /**
   * Graph configuration object.
   * 
   * @type {Object}
   */
  const graphConfig = {
    /**
     * Node configuration.
     * 
     * @type {Object}
     */
    node: {
      /**
       * Node color.
       * 
       * @type {string}
       */
      color: 'lightblue',
      /**
       * Node size.
       * 
       * @type {number}
       */
      size: 200,
      /**
       * Node highlight stroke color.
       * 
       * @type {string}
       */
      highlightStrokeColor: 'blue',
    },
    /**
     * Link configuration.
     * 
     * @type {Object}
     */
    link: {
      /**
       * Link highlight color.
       * 
       * @type {string}
       */
      highlightColor: 'lightblue',
    },
  };

  /**
   * Node click event handler.
   * 
   * @param {string} nodeId - ID of the clicked node
   */
  const onClickNode = (nodeId) => {
    if (!nodeId) {
      console.error('Node ID is undefined');
      return;
    }
    console.log(`Clicked node ${nodeId}`);
    // You can add more logic here, like showing details about the node
  };

  return (
    <div>
      <h2>Asset-Vulnerability Graph</h2>
      <Graph
        id="graph-id" // id is mandatory
        data={data}
        config={graphConfig}
        onClickNode={onClickNode} // Add the click handler here
      />
    </div>
  );
};

export default AssetVulnerabilityGraph;